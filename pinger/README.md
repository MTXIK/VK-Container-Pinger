# Сервис Pinger

Сервис Pinger периодически запрашивает у локального Docker API список запущенных контейнеров. Для каждого контейнера он извлекает его идентификатор, имя и IP-адреса, а затем выполняет ICMP-пинг по этим IP. Сервис рассчитывает среднее время отклика и публикует результат в Kafka-топик `ping-results` в виде JSON-сообщения. Сообщение содержит следующие данные:
- ID контейнера
- Имя контейнера
- IP-адрес
- Время пинга (в миллисекундах)
- Время последнего успешного пинга

## Переменные окружения

- **KAFKA_BROKER** – адрес Kafka-брокера (например, `kafka:9092`).
- **BACKEND_URL** – URL backend-сервиса (например, `http://backend:8080`).
- **DOCKER_HOST_ID** – идентификатор Docker-хоста.
- **PING_INTERVAL** – интервал между циклами пинга (например, `10s`).

## Основные функции

- **Интеграция с Docker:**  
  Сервис обращается к Docker API (через смонтированный Unix-сокет `/var/run/docker.sock`), чтобы получить информацию о запущенных контейнерах.

- **Выполнение пинга:**  
  С помощью библиотеки [go-ping](https://github.com/go-ping/ping) сервис отправляет ICMP-запросы по IP-адресам контейнеров и измеряет время отклика.

- **Публикация результатов в Kafka:**  
  Полученные данные сериализуются в формат JSON и отправляются в Kafka-топик `ping-results` с использованием библиотеки [sarama](https://github.com/Shopify/sarama).

## Зависимости

- Docker (для доступа к информации о контейнерах)
- Kafka (для публикации результатов)
- go-ping – библиотека для ICMP-пинга
- sarama – библиотека для работы с Kafka